<div class="container-fluid my-5">
  <!-- Product Details -->
  <div class="row">
    <div class="col-md-4 mb-4">
      <div class="card h-100">
        <% if @product.image.attached? %>
          <%= image_tag @product.image, class: "card-img-top img-fluid" %>
        <% else %>
          <%= image_tag 'placeholder.png', class: "card-img-top img-fluid" %>
        <% end %>
        <div class="card-body">
          <h1 class="card-title product"><%= @product.name %></h1>
          <p class="card-text"><%= @product.description %></p>
          <p class="card-text"><strong>Price:</strong> <%= @product.price %></p>
          <%= link_to "Edit", edit_product_path(@product), class: "btn btn-primary" %>
          <%= link_to "Back", root_path, class: "btn btn-secondary" %>
        </div>
      </div>
    </div>
  </div>

  <!-- Comments Section -->
  <div class="my-5">
    <h2 class="mb-4">Comments</h2>
    <%= render @product.comments %>

    <h3 class="mt-4">Add a comment:</h3>
    <%= render 'comments/form', product: @product %>
  </div>

  <!-- Rating Section -->
  <div class="my-5">
    <h2 class="mb-4">Rating</h2>
    <p class="card-text">Average Rating: <%= @product.average_rating %> / 5</p>
    <%= render 'ratings/form', product: @product %>
  </div>
</div>
